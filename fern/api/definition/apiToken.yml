# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

services:
  http:
    ApiTokenService:
      auth: true
      base-path: /api_tokens
      endpoints:
        create:
          path: ""
          method: POST
          request:
            name: CreateApiTokenRequest
            body:
              properties:
                name: string
                expiry_date: optional<string>
          response: CreateApiTokenResponse

        listAll:
          path: ""
          method: GET
          docs: API endpoint that allows API Tokens to be viewed or edited.
          response: list<ApiToken>

        delete:
          path: "/{prefix}"
          path-parameters:
            prefix: string
          method: DELETE

        roll:
          path: "/{prefix}/roll"
          path-parameters:
            prefix: string
          method: POST
          response: RollApiTokenResponse

types:
  ApiToken:
    properties:
      name:
        docs: >-
          A free-form name for the API key. Need not be unique. 50 characters
          max.
        type: optional<string>
      prefix: string
      expiry_date:
        docs: Once API key expires, clients cannot use it anymore.
        type: optional<string>
      created: string

  CreateApiTokenResponse:
    properties:
      key: string
      token: ApiToken

  RollApiTokenResponse:
    properties:
      key: string
      token: ApiToken
